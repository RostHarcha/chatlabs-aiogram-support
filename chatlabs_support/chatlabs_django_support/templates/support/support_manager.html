{% extends 'admin/base.html' %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<script type="module" src="{% static 'support/js/index.js' %}" defer></script>
<link rel="stylesheet" href="{% static 'support/css/style.css' %}" defer>
{% endblock %}

{% block content %}
<div class="container">
    <div class="sidebar">
        <!-- Список тикетов -->
        <h2>Чаты</h2>
        <div class="ticket-list">
        </div>
        {% comment %} {% for ticket in unassigned_tickets %}
        <div class="ticket">
            <h1>{{ticket.title}}</h1>
            <small>Создан: {{ticket.created_at}}</small>
            <div>Менеджер: {{ticket.support_manager}}</div>
        </div>
        {% endfor %} {% endcomment %}
    </div>

    <div class="chat">
        <!-- Заголовок чата -->
        <div class="chat-header">
            <h4 id="ticket-title">have a new</h4>
            <input id="ticket-assign" type="submit" class="default" value="Принять в работу" />
        </div>

        <!-- Окно сообщений -->
        <div class="chat-window" id="chat-window">
            <!-- Пример сообщения пользователя -->
            <div class="chat-message user-message">
                <strong>Пользователь:</strong>
                <p>Здравствуйте, у меня проблема с доступом. Здравствуйте, у меня проблема с доступом. Здравствуйте, у меня проблема с доступом. Здравствуйте, у меня проблема с доступом. Здравствуйте, у меня проблема с доступом. Здравствуйте, у меня проблема с доступом.</p>
                <small>15:30</small>
            </div>

            <!-- Пример сообщения менеджера -->
            <div class="chat-message support-message">
                <strong>Менеджер:</strong>
                <p>Добрый день! Уточните, какой доступ? Добрый день! Уточните, какой доступ? Добрый день! Уточните, какой доступ? Добрый день! Уточните, какой доступ?Добрый день! Уточните, какой доступ?</p>
                <small>15:32</small>
            </div>
        </div>

        <!-- Форма отправки сообщения -->
        <div class="chat-footer">
            <form id="message-form">
                <textarea
                class="message-textarea"
                placeholder="Начните писать.."
                ></textarea>
                <input id="ticket-assign" type="submit" class="default" value="Отправить" />
            </form>
        </div>
    </div>
</div>
<script>
    {% comment %} const tickets = JSON.parse({{unassigned_tickets|safe}}) {% endcomment %}
    {% comment %} console.log(tickets) {% endcomment %}
</script>
{% endblock content %}
